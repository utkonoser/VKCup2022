[![Maintainability](https://api.codeclimate.com/v1/badges/54f2c1350711214843ba/maintainability)](https://codeclimate.com/github/utkonoser/VKCup2022/maintainability)


### Это репозиторий с выполненным заданием из отбора GO в VK Cup 2022
Само задание можно найти чуть ниже. Вкратце расскажу, что я смог реализовать из задания и что не получилось.


Что у меня получилось:
- в кейсе sort реализовал конкурентный алгоритм быстрой сортировки
- в кейсе heap реализовал структуру max-heap
- в кейсе uniq реализовал структуру уникального множества
- написал тесты, добился покрытия больше 80%, maintainability на CodeClimate показал отличную оценку
- написал довольно подробное описание всех функций, методов и структур данных
- смог уложиться в 500мб оперативки с помощью функции `debug.SetMemoryLimit()`


Что у меня не получилось:
- не смог реализовать кейс с возобновлением работы сервиса при падении
- слишком медленная работа приложения на мой взгляд

Также я протестировал время работы каждого кейса на объеме данных в 1Gb (функция для создания тестовых файлов лежит в файле mock.go):
 - кейс с сортировкой
```shell
ni@ni-asus:~/GolandProjects/GoElimination/cmd/app$ go run main.go -sort
Run case sort...
Elapsed time for case sort:  3m13.297766837s
```
- кейс с созданием уникального множества
```shell
ni@ni-asus:~/GolandProjects/GoElimination/cmd/app$ go run main.go -uniq
Run case uniq...
Elapsed time for case uniq:  4m8.058498183s
```
- кейс с созданием кучи
```shell
ni@ni-asus:~/GolandProjects/GoElimination/cmd/app$ go run main.go -heap
Run case heap...
Elapsed time for case heap:  3m17.278995406s
```
- кейс с сортировкой уникального множества
```shell
ni@ni-asus:~/GolandProjects/GoElimination/cmd/app$ go run main.go -uniq -sort
Run case uniq sort...
Elapsed time for case uniq sort:  2m29.63071295s
```


_____________________________________________________________

### Задание на отбор Go

Вам даётся до 500 000 файлов с названиями 1.txt, 2.txt, … общим размером до 5 Гбайт и ограничение по памяти 500 MB. Каждый из файлов содержит набор целых чисел. Обработайте предложенные в файлах данные и выведите их в один общий файл. Обратите внимание на то, что загружать содержимое всех файлов в оперативную память не получится — вам нужно будет использовать создание локальных файлов.



В этом задании мы будем обращать внимание на архитектуру вашего решения. Мы ожидаем, что вы используете примитивы синхронизации (atomic, mutex, chanel, waitgroup, rwmutex). Реализуйте три варианта интерфейса, переключение между которыми будет выполняться параметром командной строки -sort, -uniq или -heap.

    -sort  - сортируем (по возрастанию)
    -heap - составляем кучу
    -uniq - уникализируем все значения, сохраняя начальный порядок.



Флаги sort и uniq должно быть возможно использовать одновременно, остальные комбинации невозможны.



Обходитесь без копипасты! Используйте интерфейсы. Вынесите как можно больше кода в “общую” часть.



Что произойдёт, если ваше решение будет остановлено системой во время выполнения? Убедитесь, что вы сможете возобновить работу сервиса, чтобы он продолжил выполнение задания, и корректно завершить выполнение.



Разработайте тесты для проверки правильности работы вашего кода.

Тесты включают в себя: unit и e2e. Формат и инструменты для e2e тестов не ограничены.


Критерии оценки (в порядке убывания важности):

    1. Работоспособность кейса с сортировкой
    2. Работоспособность кейса с кучей
    3. Работоспособность кейса с уникальностью
    4. Архитектура кода
    5. Возобновление работы после остановки
    6. Тесты unit
    7. Тесты e2e
