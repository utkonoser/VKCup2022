
### Задание на отбор Go

Вам даётся до 500 000 файлов с названиями 1.txt, 2.txt, … общим размером до 5 Гбайт и ограничение по памяти 500 MB. Каждый из файлов содержит набор целых чисел. Обработайте предложенные в файлах данные и выведите их в один общий файл. Обратите внимание на то, что загружать содержимое всех файлов в оперативную память не получится — вам нужно будет использовать создание локальных файлов.



В этом задании мы будем обращать внимание на архитектуру вашего решения. Мы ожидаем, что вы используете примитивы синхронизации (atomic, mutex, chanel, waitgroup, rwmutex). Реализуйте три варианта интерфейса, переключение между которыми будет выполняться параметром командной строки -sort, -uniq или -heap.

    -sort  - сортируем (по возрастанию)
    -heap - составляем кучу
    -uniq - уникализируем все значения, сохраняя начальный порядок.



Флаги sort и uniq должно быть возможно использовать одновременно, остальные комбинации невозможны.



Обходитесь без копипасты! Используйте интерфейсы. Вынесите как можно больше кода в “общую” часть.



Что произойдёт, если ваше решение будет остановлено системой во время выполнения? Убедитесь, что вы сможете возобновить работу сервиса, чтобы он продолжил выполнение задания, и корректно завершить выполнение.



Разработайте тесты для проверки правильности работы вашего кода.

Тесты включают в себя: unit и e2e. Формат и инструменты для e2e тестов не ограничены.


Критерии оценки (в порядке убывания важности):

    1. Работоспособность кейса с сортировкой
    2. Работоспособность кейса с кучей
    3. Работоспособность кейса с уникальностью
    4. Архитектура кода
    5. Возобновление работы после остановки
    6. Тесты unit
    7. Тесты e2e
